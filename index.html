<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <title>zfarmy.com // platforma zamówień warzyw i owoców dla lokali gastronomicznych </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" type="text/css">
  </head>
  <body>
      <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top ">
          <a class="navbar-brand">ZFARMY.COM</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarToggler">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item active ">
                <a class="nav-link" href="http://zfarmy.com/">Zamawiam<span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="http://zfarmy.com/zasady dzialania">Zasady działania</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="http://zfarmy.com/zadaj pytanie">Zadaj pytanie</a>
              </li>
            </ul>
          </div>
      </nav>

      <header>
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                  <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                  <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img class="d-block w-100" src="http://zfarmy.com/images/obrazek.jpg" alt="First slide">
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="images/obrazek2.jpg" alt="Second slide">
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
    </header>
         <div id="accordion">
            <div class="card">
              <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                  <button class="btn btn-link text-uppercase text-dark" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Warzywa
                  </button>
                </h5>
              </div>
              <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">

                    <section class="kafelki">
                        <div class="row">
                         
                            <div class=" col-sm-6 col-md-4 col-lg-3 col-xl-2 product"> 
                              <figure class="figure">                  
                                <img src="images/warzywa/burak.jpg" id="nr0">
                              </figure>
                              <figcaption>
                                <div class="price" id="price_nr0" type="number">1.15</div><div class="unit"> PLN / kg</div>
                              </figcaption>
                            </div>

                            <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                              <figure class="figure">
                                <img src="images/warzywa/cebula biala.jpg" id="nr1">
                              </figure>
                              <figcaption>
                                <div class="price" id="price_nr1" type="number">1.2</div><div class="unit"> PLN / kg</div>
                              </figcaption>
                            </div>

                            <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/cebula czerwona2.jpg" id="nr2">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr2" type="number">1.75</div><div class="unit"> PLN / kg</div>
                            </figcaption>     
                          </div>

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product" >
                            <figure class="figure">
                              <img src="images/warzywa/kalafior.jpg" id="nr3">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr3" type="number">2.25</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/marchew.jpg" id="nr4">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr4" type="number">1.50</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>      
                                            
                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/papryka zielona.jpg" id="nr5">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr5" type="number">2.50</div><div class="unit"> PLN / kg</div> 
                            </figcaption>
                          </div>   

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/papryka czerwona2.jpg" id="nr6">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr6" type="number">3.15</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/pietruszka2.jpg" id="nr7">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr7" type="number">5.00</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/pomidor7.jpg" id="nr8">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr8" type="number">1.50</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>

                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/pomidor malinowy.jpg" id="nr9">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr9" type="number">3.00</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>
                               
                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/por3.jpg" id="nr10">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr10" type="number">1.25</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>                                                                
                                  
                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/seler.jpg" id="nr11">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr11" type="number">2.50</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>    
                
                          <div class="col-sm-6 col-md-4 col-lg-3 col-xl-2 product">
                            <figure class="figure">
                              <img src="images/warzywa/ziemniak.jpg" id="nr12">
                            </figure>
                            <figcaption>
                              <div class="price" id="price_nr12" type="number">0.75</div><div class="unit"> PLN / kg</div>
                            </figcaption>
                          </div>              
                       </div>
                </section>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingTwo">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed text-uppercase text-dark" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Owoce
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">
                
                    <br><br>
                    Oferta w trakcie przygotowania.
                    <br><br>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed text-uppercase text-dark" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Koszyk
                  </button>
                </h5>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                <div class="card-body">
               
                  <div id="basket">

                  </div>
                 <!--  Tutaj będzie wykaz w tabelce, co zostało kliknięte, w jakiej ilości, ile kasy do zapłaty, + przyciski do edycji i przycisk do potwierdzenia zamówienia.
                  <br><br>
                  Jak  ktoś kliknie to dostajemy to na maila, a klient na stronie informacje że zamówienie zostało złożone.
                  <br>
                  <br>
                 -->

                 <br><br>
                 <table class="table">
                    <tr>
                        <td>Pozycja</td>
                        <td>Produkt</td>
                        <td>Ilość</td>
                        <td>Cena</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                 </table>
                 Koszyk w trakcie przygotowania. Wkrótce będzie dostępny.
                 <br><br>
                </div>
              </div>
            </div>
        </div>
    <footer>
      
      <div class="normap">
        <div class="row">
           <div class="col-sm-12 col-md-6 col-xl-12">
                      <img src="images/logo4a.jpg" class="img-fluid" width="300">
                      <br>
            </div>            
        </div>
      </div>  
    </footer>
    
    <script>       

              var product = document.getElementsByClassName('figure')
              for( var i=0; i < product.length; i++){

              product[i].addEventListener("click", expand, false);
              }
              
              var order = [];
              var tablex = []
              

              function expand(e) {
                var yoo = e.target.offsetParent;
                var img_nr = e.target.getAttribute('id');
                  
          
                  const someEven = tablex.some(function(el) {
                  return el === img_nr;
                }); 
                  
                if(someEven === false){
                  tablex.push(img_nr);
                  console.log(tablex);
                  var newDiv = document.createElement("div");
                  newDiv.setAttribute("id", "sel_"+img_nr);
                  yoo.appendChild(newDiv);
           //       newDiv.innerHTML ="<input id='input' type='number' placeholder='Ile potrzebujesz kg'><button id='buttoned'>Dodaj</button><br>";
                  input = document.createElement("input");
                  newDiv.appendChild(input);
                  input.setAttribute("id", "input_"+img_nr);
                  input.setAttribute("type", "number");
                  input.setAttribute("placeholder", "Ile potrzebujesz kg");
                  var button = document.createElement("button");
                  newDiv.appendChild(button);
                  button.setAttribute("id", "button_"+img_nr);
                  button.innerHTML ="Dodaj";
                  var liveCost = document.createElement("div");
                  newDiv.appendChild(liveCost);
                  liveCost.setAttribute("id", "live_"+img_nr);
                }else{
                  for( var i = 0; i < tablex.length; i++){ 
                  if ( tablex[i] === img_nr) {
                    tablex.splice(i, 1); 
                  }
                  }
                  var selected =  document.getElementById("sel_"+img_nr);
                  selected.remove();

                }  
            
                
          
                function calculate(){
                var price = document.getElementById('price_'+img_nr).innerHTML;
                result =  input.value * price;
                liveCost.textContent = "Koszt: " + result + " pln";
                
                console.log(input.value);
                }
            
                input.addEventListener("input", calculate, false);
                
              
                var prod = {
                    name: img_nr,
                    weight: input.value,
           //         pri: result 
                }

                function addProduct(){
                console.log(button);
                var addingInput = document.getElementById('price_'+img_nr).innerHTML;
                order.push(prod);


                  // wypisywanie
                basket = document.getElementById("basket")
                basket.textContent = order[0].name + order[0].weight + order[0].pri;
                console.log(prod);
                console.log(order[0].weight)
                }

                button.addEventListener("click", addProduct, false);


               
        
                }

    </script>
     <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
</html>